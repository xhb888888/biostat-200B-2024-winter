<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.537">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Hanbei Xiong">

<title>hw6</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="hw6_files/libs/clipboard/clipboard.min.js"></script>
<script src="hw6_files/libs/quarto-html/quarto.js"></script>
<script src="hw6_files/libs/quarto-html/popper.min.js"></script>
<script src="hw6_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="hw6_files/libs/quarto-html/anchor.min.js"></script>
<link href="hw6_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="hw6_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="hw6_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="hw6_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="hw6_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">hw6</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Hanbei Xiong </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="question-1" class="level1">
<h1>Question 1</h1>
<p><img src="images/WeChatd86e31862e0f89c52c04f8db62e1414c.png" class="img-fluid"></p>
<p><strong>(a) Answer:</strong></p>
<span class="math display">\[\begin{align*}
\hat{\beta}_{(-i)}&amp;=(X_{(-i)}'X_{(-i)})^{-1}X_{(-i)}'Y_{(-i)}\\
&amp;=[(X'X)^{-1}+\frac{(X'X)^{-1}x_ix_i'(X'X)^{-1}}{1-h_i}](X'Y-x_iY_i)\\
&amp;=(X'X)^{-1}X'Y-(X'X)^{-1}x_iY_i+(\frac{(X'X)^{-1}x_ix_i'(X'X)^{-1}}{1-h_i})X'Y-(\frac{(X'X)^{-1}x_ix_i'(X'X)^{-1}}{1-h_i})x_iY_i\\
&amp;=\hat{\beta}-\frac{(X'X)^{-1}x_iY_i}{1-h_i}+(\frac{(X'X)^{-1}x_ix_i'(X'X)^{-1}}{1-h_i})x_iY_i\\
&amp;+(\frac{(X'X)^{-1}x_ix_i'(X'X)^{-1}}{1-h_i})X'Y-(\frac{(X'X)^{-1}x_ix_i'(X'X)^{-1}}{1-h_i})x_iY_i\\
&amp;=\hat{\beta}-\frac{(X'X)^{-1}x_iY_i}{1-h_i}+(\frac{(X'X)^{-1}x_ix_i'(X'X)^{-1}}{1-h_i})X'Y\\
&amp;=\hat{\beta}-\frac{(X'X)^{-1}x_iY_i}{1-h_i}+(\frac{(X'X)^{-1}x_ix_i'(X'X)^{-1}}{1-h_i})X'X\beta\\
&amp;=\hat{\beta}-\frac{(X'X)^{-1}x_iY_i}{1-h_i}+\frac{(X'X)^{-1}x_ix_i'\beta}{1-h_i}\\
&amp;=\hat{\beta}-\frac{(X'X)^{-1}x_i(Y_i-x_i'\beta)}{1-h_i}\\
&amp;=\hat{\beta}-\frac{(X'X)^{-1}x_ie_i}{1-h_i}
\end{align*}\]</span>
<p><strong>(b) Answer:</strong></p>
<span class="math display">\[\begin{align*}
y_i-x'_{i}\hat{\beta}_{(-i)}&amp;=y_i-x'_i(\hat{\beta}-\frac{(X'X)^{-1}x_ie_i}{1-h_i})\\
&amp;=y_i-x'_i\hat{\beta}+\frac{x'_i(X'X)^{-1}x_ie_i}{1-h_i}\\
&amp;=\frac{(x'_i\hat{\beta}+e_i)(1-h_i)}{1-h_i}-\frac{x'_i\hat{\beta}(1-h_i)}{1-h_i}+\frac{h_ie_i}{1-h_i}\\
&amp;=\frac{e_i(1-h_i)}{1-h_i}+\frac{h_ie_i}{1-h_i}\\
&amp;=\frac{e_i(1-h_i+h_i)}{1-h_i}\\
&amp;=\frac{e_i}{1-h_i}
\end{align*}\]</span>
</section>
<section id="question-2" class="level1">
<h1>Question 2</h1>
<p><img src="images/WeChatd1bf81cdec0eb521ce0ff93608b25575.png" class="img-fluid"></p>
<p><strong>(a) Answer:</strong></p>
<p><strong><em>Figure 1:</em></strong></p>
<p><img src="images/WeChatf4e6830e3bf0fd0511061d1dbbaf6050.png" class="img-fluid" width="498"></p>
<p>By observing Figure 1, we detect ids in red have high influence to the model. The size of the circle corresponds to the quantity of cook’s D. The x axis is the leverage and y axis is the studentized residuals.</p>
<p>In general, here are the ids with unusual leverage, residual, cook’s D:</p>
<p>leverage: 112, 104</p>
<p>residual: 47, 33, 43, 54</p>
<p>cook’s D: 47, 112</p>
<p><strong>(b) Answer:</strong></p>
<p><strong><em>Figure 2: id vs Cook’s D</em></strong></p>
<p><img src="images/WeChat094c296b0c192fb78c0bc1655dfebcb9.png" class="img-fluid" width="530"></p>
<p><strong><em>Figure 3: Studentized Residual without current observation vs Leverage</em></strong></p>
<p><img src="images/WeChatd65505949404394ce8b1d0d386aa3a83.png" class="img-fluid" width="540"></p>
<p><strong><em>Figure 4: xray vs loglength</em></strong></p>
<p><img src="images/322741709020829_.pic.jpg" class="img-fluid" width="534"></p>
<p><strong><em>Figure 5: census vs loglength</em></strong></p>
<p><img src="images/322751709020857_.pic.jpg" class="img-fluid" width="541"></p>
<p><strong><em>Figure 6: age vs loglength</em></strong></p>
<p><img src="images/322761709020878_.pic.jpg" class="img-fluid" width="549"></p>
<p>By observing Figure 2, we can see hospital with id 47 and id 112 have the highest cook’s id. By observing Figure 3, we can see hospital with id 47 has the highest studentized residual and id 112 have the highest leverage. By observing figure 4, 5 and 6, we can see hospital with id 47 and id 112 seem to be outliers. They have very high loglength compared to observation with same level of independent variables. The usual loglength of these two hospitals make them potentially influential.</p>
<p><strong>(c) Answer:</strong></p>
<p><strong><em>Figure 7: Reduced Observation Model measures</em></strong></p>
<p><img src="images/WeChat9d6a7ad21c6f54197d37ffe636f25854.png" class="img-fluid" width="464"></p>
<p><strong><em>Figure 8: Full Observation Model measures</em></strong></p>
<p><img src="images/WeChatd4896783369f5f4effcbf2df0b904d31.png" class="img-fluid" width="461"></p>
<p>Comparing Figure 7 and Figure 8, the regression parameter estimates in the reduced observation model are smaller than the regression parameter estimates in the full observation model. The p value for predict age has a big shift from 0.0072 (Figure 8) to 0.0385 (Figure 7). The statistical significance of predictor age in the model is waned after reducing the observations. The p values for overall F tests in both models remain the same. The root MSE in reduced observation model is smaller than that in full observation model which indicate the performance of the model improved after removing the outliers.</p>
<p><strong>(d) Answer:</strong></p>
<p><strong><em>Figure 9: Final model Result</em></strong></p>
<p><img src="images/WeChat23eb76f93829ab4b18eefad3072dd8fa.png" class="img-fluid" width="456"></p>
<p>Figure 9 is the result of the final model. I applied a log transformation on census after observing the component-plus-residual plots for each of the predictor. The numeric and graphic outputs generated in the procedure are displayed in Appendix.</p>
</section>
<section id="question-3" class="level1">
<h1>Question 3</h1>
<p><img src="images/WeChat6a6d80ee6a3962848a263b5604785992.png" class="img-fluid"></p>
<p><strong>Answer:</strong></p>
<p><strong><em>Figure 10: Table listing top 5 models and selection criteria</em></strong></p>
<p><img src="images/WeChatbec88fdc96e9873d31450fafb1ac279f.png" class="img-fluid" width="598"></p>
<p>I break the variable region to dummy variable (regw, regnc, regs). I applied log transformation on length, beds and ratio/census after observing positive right skewness in their distributions (Note that I name this variable as rationp to avoid containing dash in my variable name). The original distribution of predictors are displayed in Appendix.</p>
<p>From the result displayed in Figure 10, we can see the 5 predictors model containing regw, logbeds, xray, loglength, logrationp are ranked as the top 1 among many subsets. These five predictors appear to be in each of the subset among the top 5 subsets. The top 1 model has the lowest AIC, BIC, and C(p) measures but <span class="math inline">\(R^2\)</span> in the second model outruns the top 1 model by 0.51.</p>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<p><strong><em>Appendix Table 1: Parameters used to build partial residuals in question 2d</em></strong></p>
<p><img src="images/WeChat5b99c9d67c321caa69061461383ca48e.png" class="img-fluid" width="462"></p>
<p><strong><em>Appendix Graph 1: Component-plus-residual plot for xray in question 2d</em></strong></p>
<p><img src="images/WeChat16fddc021e87b8dcbbda7d57f91bc3d3.png" class="img-fluid" width="495"></p>
<p><strong><em>Appendix Graph 2: Component-plus-residual plot for census in question 2d</em></strong></p>
<p><img src="images/WeChat5d6cd83e44b15160917f09031bd567eb.png" class="img-fluid" width="498"></p>
<p><strong><em>Appendix Graph 3: Component-plus-residual plot for age in question 2d</em></strong></p>
<p><img src="images/WeChat5a7b8bda9387addaaf41e5d6929d3f4b.png" class="img-fluid" width="522"></p>
<p><strong><em>Appendix Graph 4: Histogram of beds in question 3b</em></strong></p>
<p><img src="images/WeChat708f6f55de1d3d06b6217b6b1b4d6992.png" class="img-fluid" width="519"></p>
<p><strong><em>Appendix Graph 5: Histogram of svcs in question 3b</em></strong></p>
<p><img src="images/WeChatc18644da891eda427efbddebe4c147a2.png" class="img-fluid" width="524"></p>
<p><strong><em>Appendix Graph 6: Histogram of msch in question 3b</em></strong></p>
<p><img src="images/WeChatf515169402f90dae86b03badec8de30d.png" class="img-fluid" width="524"></p>
<p><strong><em>Appendix Graph 7: Histogram of xray in question 3b</em></strong></p>
<p><img src="images/WeChat2733d42acb928635aa7a9fbe542cb84f.png" class="img-fluid" width="533"></p>
<p><strong><em>Appendix Graph 8: Histogram of length in question 3b</em></strong></p>
<p><img src="images/WeChatf5032ccd50d7e59138dc5f6db276ec57.png" class="img-fluid" width="540"></p>
<p><strong><em>Appendix Graph 9: Histogram of nurse/patient ratio</em></strong></p>
<p><img src="images/WeChat8393f8d3c6ec276c7db4b6d528905d1f.png" class="img-fluid" width="546"></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>